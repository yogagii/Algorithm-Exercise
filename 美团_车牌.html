<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
		<script>
			var n=8
			var k=6
			//var arr = [9,4,4,7,6,4,1,3]
			var arr = [3,4,3,4,3,4,2,5]
			var map=[]
			for(var i=0;i<arr.length;i++){
				if(map[arr[i]]){
					map[arr[i]]++
				}
				else map[arr[i]]=1
			}
			var max = Number.MAX_VALUE
			var index = []
			var arr2 = []
			var count=0
			for(var i=0;i<=9;i++){
				if(map[i]){
					var newarr =new Array()
					for(var n = 0;n<arr.length;n++){
						newarr[n]=arr[n]
					}
					newarr = newarr.sort(function(a,b){
						return Math.abs(a-i)-Math.abs(b-i)
					})
					//newarr = quick(newarr,)
					console.log(newarr)
					var add = 0
					for(var j=0;j<k;j++){
						add+=Math.abs(newarr[j]-i)
					}
					if(add<max){
						max = add
						count = 0
						index[count] = i
						arr2[count]=[]
						for(var m = 0;m<k;m++){
							arr2[count][m]=newarr[m]
						}
					}
					else if(add==max){
						count++
						index[count]=i
						arr2[count]=[]
						for(var m = 0;m<k;m++){
							arr2[count][m]=newarr[m]
						}
					}
				}
			}
			console.log('count'+count)
			console.log("max"+max)
			console.log("index"+index)
			console.log(arr2)
			console.log(arr)
			var a =[]
			for(var iii=0;iii<=count;iii++){
				a[iii]=new Array()
				for(var i=0;i<arr.length;i++){
					if(arr2[iii].indexOf(arr[i])!=-1){
						a[iii][i]=index[iii]
						arr2[iii][arr2[iii].indexOf(arr[i])]=-2
					}else{
						a[iii][i]=arr[i]
					}
				}
			}
			
			var min = a[0].join('')
			for(var i = 0;i<=count;i++){
				temp = a[i].join('')
				console.log(temp)
				if (temp>min){
					min=temp
				}
			}
			console.log(min)
		</script>
	</body>
</html>
